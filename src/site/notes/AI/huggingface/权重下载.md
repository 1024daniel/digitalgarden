---
{"dg-publish":true,"permalink":"/AI/huggingface/权重下载/","noteIcon":"3"}
---


```sh
## 可能会下载历史commit导致文件夹偏大
modelscope download --model AI-ModelScope/whisper-large-v2 README.md --local_dir ./dir

```

```python
from modelscope import snapshot_download

model_dir = snapshot_download(
    model_id="damo/nlp_gpt3_text-generation_1.3B",  # 模型 ID
    revision="master",  # 只取最新版本（也可以写具体 commit id）
    cache_dir="./models",  # 指定下载目录
    allow_file_pattern=[   # 只保留需要的文件
        "*safetensors",
        "*py",
        "*json",
        "*txt"
    ],
    #ignore_file_pattern=[".*"]  # 忽略其它所有文件
)

print("模型下载到:", model_dir)

```

```sh
modelscope

```

```
openssl s_client -showcerts -connect modelscope.cn:443 </dev/null 2>/dev/null \
| awk '/BEGIN CERTIFICATE/,/END CERTIFICATE/' \
> /etc/pki/ca-trust/source/anchors/modelscope-ca.crt

sudo update-ca-trust extract
```